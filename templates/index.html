<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Preditor de Criptomoedas (MAX Power)</title>
    <style>
        body { font-family: sans-serif; background:#f4f4f9; }
        h1 { text-align:center; }
        #controls { text-align:center; margin-bottom:20px; }
    </style>
</head>
<body>
    <h1>Preditor de Criptomoedas (MAX Power)</h1>

    <div id="controls">
        <button id="predictBtn">Analisar Top 20</button>
    </div>

    <div id="status">Clique para iniciar análise...</div>
    <div id="results"></div>

    <script>
        const coins = [
            "BTC/USDT","ETH/USDT","XRP/USDT","LTC/USDT","BCH/USDT",
            "ADA/USDT","DOGE/USDT","DOT/USDT","UNI/USDT","LINK/USDT",
            "SOL/USDT","MATIC/USDT","ETC/USDT","FIL/USDT","AAVE/USDT",
            "MKR/USDT","COMP/USDT","SNX/USDT","YFI/USDT","AVAX/USDT"
        ];

        const botao = document.getElementById("predictBtn");
        const status = document.getElementById("status");
        const results = document.getElementById("results");

        botao.onclick = async () => {
            botao.disabled = true;
            results.innerHTML = "";
            status.innerHTML = "Analisando...";

            for (let c of coins) {
                try {
                    const r = await fetch(`/predict/${c}`);
                    const j = await r.json();
                    results.innerHTML += `<pre>${JSON.stringify(j,null,2)}</pre>`;
                } catch {
                    results.innerHTML += `<p>Erro em ${c}</p>`;
                }
            }

            status.innerHTML = "Concluído.";
            botao.disabled = false;
        };
    </script>
</body>
</html>
